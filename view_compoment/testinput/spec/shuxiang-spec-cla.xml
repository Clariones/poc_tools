<?xml version="1.0" encoding="UTF-8"?>
<root xmlns:c="http://clariones.doublechaintech.com/uischema.xml"
    template="mobile" >
    
	<c:page name="customer-store-list" title="切换门店">
        <c:data-source user="$(customer)"/>
        <c:data-source plateform="$(book_sharing_platform)"/>
        <!-- 
        <c:row class="align-center flat-bar background-main">
        	<c:text class="text-size-section-title text-color-marked-main">附近的门店</c:text>
        </c:row>
         -->
        <c:column>
        	<c:row class="card"  name="store-info-block" link-to-url="/wxaService/selectStore/$(id)/" data-source="$(plateform.store)">
        		<c:column class="normal_block">
        			<c:image class="image-size-thumbnail" src-url="$(store_image)"></c:image>
        		</c:column>
        		<c:column name="store-desc-block" class="normal_block">
        			<c:text class="text-size-main text-color-marked-main" data-source="$(store_name)">名称</c:text>
        			<c:row class="no-flex-weight">
        				<c:font-icon>square</c:font-icon>
        				<c:text class="text-size-main" data-source="$(store_open_time)">营业时间</c:text>
        			</c:row>
        			<c:row class="no-flex-weight align-both-ends">
	        			<c:row>
	        				<c:font-icon>square</c:font-icon>
	        				<c:text data-source="$(store_address) $(store_room_number)">地址</c:text>
        				</c:row>
        				<c:row class="no-flex-weight">
			        		<c:text name="store-distance" class="text-color-marked-note" data-source="$(_by_key_distance)">距离</c:text>
	        			</c:row>
        			</c:row>
        		</c:column>
        	</c:row>
        </c:column>
    </c:page>

    <c:page name="customer-borrow-book" title="借书">
        <c:data-source text-message-1="var: string"/>
        <c:data-source text-message-2="var: string"/>
        <c:data-source user="$(customer)"/>

        <c:column class="align-center borrow-book-block" >
        	<c:text name="first-line" class="text-size-section-title text-color-marked-main big-top-space" data-source="$(user._by_key_borrowed)">第一行</c:text>
        	<c:text name="second-line" class="text-size-section-title text-color-marked-main normal-top-space" data-source="$(user._by_key_total_allowed)">第二行</c:text>
        	<c:button name="view-borrow-history" class="btn btn-primary normal-top-space" link-to-url="/wxaService/customerBorrowHistory/$(user.id)">查看借阅详情</c:button>
        	<c:bar_or_qr_code name="my-code" class="image-size-main" data-source="$(user.id)">我的二维码</c:bar_or_qr_code>
        	<c:text name="bottom-line" class="text-size-note text-color-note small-top-space" data-source="$(user._by_key_scene)">底行</c:text>
        	<c:scanner name="BorrowBook" class="wxa-scanner" api-url="/wxaService/customerBorrowBook/"></c:scanner>
        </c:column>
       	<c:row class="align-equidisant">
       		<c:column name="showQrCode" class="icon-item" link-to-url="/wxaService/wantBorrowBook/showCode/">
       			<c:image class="image-size-icon" src-url="/images/showMyQrCode.png"></c:image>
       			<c:text class="text-size-section-title">我的借书码</c:text>
       		</c:column>
       		<c:column name="scanToBorrow" class="icon-item" link-to-url="/wxaService/wantBorrowBook/scanCode/">
       			<c:image class="image-size-icon" src-url="/images/scanner.png"></c:image>
       			<c:text class="text-size-section-title">自助借书</c:text>
       		</c:column>
       	</c:row>

    </c:page>
 
    
    <c:page name="customer-buy-book" title="买书">
        <c:container class="container-vertical align-center" >
        	<c:scanner name="buy-book" class="wxa-scanner" api-url="/wxaService/customerBuyBook/"></c:scanner>
        	<c:text name="bottom-line" class="text-size-note text-color-note">请将要购买书籍的二维码放入框内，即可扫描购买</c:text>
        </c:container>
    </c:page>

    <c:page name="book-sharing-agreement" title="共享图书协议">
    	<c:data-source config="$(platform_configuration)"/>
        <c:rich-text name="agreement" data-source="$(config.book_sharing_agreement)">协议内容</c:rich-text>
    </c:page>
    
	<c:page name="book-sharing-form" title="共享图书">
		<c:data-source shop="$(store)"/>
		
    	<c:column>
    		<c:text class="text-size-main">书香社区欢迎广大社区成员共享/捐赠图书，您可以将您要共享/捐赠的图书送到您身边的【书香社区门店】，如果需要上门取件，请填写下面表单，我们将尽快与您联系。</c:text>
    		<c:form name="share-book">
    			<c:field name="storeId" type="hidden" label="店ID" data-source="$(shop.id)"/>
    			<c:field name="quantityLevel" label="共享数量" type="select" placeholder="请选择数量级别" content="little">
    				<c:option value="little" display-text="少于10本" checked="true"/>
    				<c:option value="many" display-text="超过10本"/>
    			</c:field>
    			<c:field name="contactName" label="联系人" type="text" required="true" placeholder="请输入取件联系人" min-value="1" max-value="20" />
    			<c:field name="contactMobile" label="联系电话" type="text" required="true" placeholder="请输入取件联系人的电话" min-value="11" max-value="11"/>
    			<c:field name="contactAddress" label="联系地址" type="text" placeholder="请输入您的取件地址" min-value="1" max-value="100" max-line="2"/>
    			<c:row class="text-size-note align-center user-agreement">
    					<c:field type="check_box" name="agreed" label="">
    						<c:option value="true" display-text="我同意"/>
    					</c:field>
    					<c:text link-to-url="/wxaService/bookSharingAgreement/">《书香社区共享图书条款》</c:text>
    			</c:row>
    			<c:action name="submitBookShareForm" level="primary" link-to-url="/wxaService/shareBook/">提交</c:action>
    		</c:form>
    	</c:column>
    </c:page>
    
    <c:page name="book-sharing-success" title="共享图书">
    	<c:data-source shop="$(store)"/>
    	<c:row class="align-center normal-bottom-space card">
    		<c:column class="no-flex-weight">
    			<c:font-icon class="success-icon">check-circle-o</c:font-icon>
    		</c:column>
    		<c:column class="no-flex-weight">
    			<c:text class="text-size-article-title text-color-main">提交成功</c:text>
    			<c:text class="text-color-note">您的共享申请提成功了。</c:text>
    		</c:column>
    	</c:row>
    	<c:column class="align-left card">
    		<c:text class="text-size-main">感谢您的共享！</c:text>
			<c:text class="text-size-main">我们已经收到您的共享申请，我们会尽快与您联系</c:text>
    	</c:column>
		<c:button class="btn btn-info" link-to-url="/wxaService/viewHomePage/">回到主页</c:button>
    </c:page>

    <c:page name="view-customer-profile" title="个人信息">
    	<c:data-source user="$(customer)"/>
    	<c:row class="align-both-ends">
    		<c:text class="text-size-note">用户ID</c:text>
    		<c:text class="text-size-note" data-source="$(user.id)"></c:text>
    	</c:row>
    	<c:column>
    		<c:row name="logo-image" class="align-both-ends small-space-top card">
    				<c:text>头像</c:text>
    				<c:image class="image-size-icon" src-url="$(user.logo_image)">头像图片</c:image>
    		</c:row>
    		<c:row name="nick-name" class="align-both-ends small-space-top card">
    				<c:text>昵称</c:text>
    				<c:text data-source="$(user.nick_name)">昵称</c:text>
    		</c:row>
    		<c:row name="update-user-info" class="align-center">
    			<c:button type="getUserInfo" call-back-url="/wxaService/updateUserInfo/">更新头像和昵称</c:button>
    		</c:row>
    		<c:row class="align-both-ends small-space-top card">
    				<c:text>性别</c:text>
    				<c:text data-source="$(user.sexuality)">性别</c:text>
    		</c:row>
    		<c:row class="align-both-ends small-space-top card">
    				<c:text>生日</c:text>
    				<c:date data-source="$(user.birthday)" format="yyyy年MM月dd日">生日</c:date>
    		</c:row>
    		<c:row class="align-both-ends small-space-top card">
    				<c:text>真实姓名</c:text>
    				<c:text data-source="$(user.real_name)">真实姓名</c:text>
    		</c:row>
    		<c:row class="align-both-ends small-space-top card">
    				<c:text>手机号码</c:text>
    				<c:text data-source="$(user.mobile_number)">手机号码</c:text>
    		</c:row>
    		<c:row class="align-both-ends small-space-top card">
    				<c:text>身份证号码</c:text>
    				<c:text data-source="$(user.identity_card_number)">身份证号码</c:text>
    		</c:row>
    		<c:row class="align-both-ends small-space-top card">
    			<c:container class="align-left">
    				<c:text>家庭地址</c:text>
    			</c:container>
    			<c:container class="align-rigth">
    				<c:text data-source="$(user.family_address)">家庭地址</c:text>
    			</c:container>
    		</c:row>
    		<c:row class="align-center">
    			<c:text link-to-url="/wxaService/editCustomerProfile/">修改个人信息</c:text>
    		</c:row>
    	</c:column>
    </c:page>

    <c:page name="edit-customer-profile" title="个人信息">
    	<c:data-source user="$(customer)"/>
    	<c:column>
   			<c:row class="align-both-ends text-size-main text-color-main">
   				<c:text>头像</c:text>
   				<c:image class="image-size-icon" src-url="$(user.logo_image)">头像图片</c:image>
   			</c:row>
   			<c:row class="align-both-ends text-size-main text-color-main">
   				<c:text>昵称</c:text>
   				<c:text data-source="$(user.nick_name)">昵称</c:text>
   			</c:row>
   			
    		<c:form>
    			<c:field label="性别" type="select" name="sexuality" data-source="$(user.sexuality)">
    				<c:option value="男" display-text="男"/>
    				<c:option value="女" display-text="女"/>
    			</c:field>
    			<c:field label="生日" type="date" name="birthday" data-source="$(user.birthday)"/>
    			<c:field label="真实姓名" type="text" name="real_name" data-source="$(user.real_name)" max-value="80"/>
    			<c:row class="align-both-ends text-size-main text-color-main">
	   				<c:text>手机号码</c:text>
	   				<c:text data-source="$(user.mobile_number)">昵称</c:text>
	   			</c:row>
    			<c:field label="身份证号" type="text" name="identity_card_number" data-source="$(user.identity_card_number)" max-value="18"/>
    			<c:field label="家庭地址" type="longtext" name="family_address" data-source="$(user.family_address)" max-value="200"/>
    			<c:action link-to-url="/wxaService/updateCustomerProfile/">保存</c:action>
    		</c:form>
    	</c:column>
    </c:page>

    <c:page name="customer-campaign-list" title="我的活动">
    	<c:data-source user="$(customer)"/>
    	<c:column>
    		<c:container class="container-horizontal" data-source="$(user.campaign_register_history)" >
    			<c:container class="campaign-info-left" link-to-url="/wxaService/campaignDetail/$(campaign.id)/">
        			<c:image class="image-size-thumbnail campaign-image" src-url="$(campaign.campaign_image)"></c:image>
        			<c:text class="text-color-marked-note text-size-main campaign-status" data-source="$(campaign.campaign_status)">状态</c:text>
        		</c:container>
        		<c:container class="container-vertical campaign-info-center" name="campaign-info-block" link-to-url="/wxaService/campaignDetail/$(campaign.id)/">
        			<c:text class="text-color-marked-main text-size-main" data-source="$(campaign.campaign_name)">标题</c:text>
        			<c:container>
        				<c:font-icon class="text-size-main">clock-o</c:font-icon>
        				<c:text name="campaign-hold-time" class="text-color-main text-size-main" data-source="$(campaign.campaign_start_time)">时间</c:text>
        			</c:container>
        			<c:container>
        				<c:font-icon class="text-size-main">map-marker</c:font-icon>
        				<c:text class="text-color-main text-size-main" data-source="$(campaign.campaign_hold_address)">地点</c:text>
        			</c:container>
        			<c:date class="text-color-note text-size-note" data-source="$(register_datetime)" format="MM-dd HH:mm">更新时间</c:date>
        			<c:text name="register-status" data-source="$(cancelled)">报名情况</c:text>
        		</c:container>
    		</c:container>
    	</c:column>
    </c:page>
           
    <c:page name="customer-review-list" title="我的书评">
    	<c:data-source user="$(customer)"/>
    	<c:column>
    		<c:column class="review-record-container" data-source="$(user.book_review)">
    			<c:row>
    				<c:font-icon>clock-o</c:font-icon>
    				<c:date data-source="$(review_publish_datetime)" format="yyyy-MM-dd HH:mm"></c:date>
    			</c:row>
    			<c:row class="card" link-to-url="/wxaService/bookDetailPage/$(book_info.id)/true/">
    				<c:image src-url="$(book_info.book_cover)" class="image-size-thumbnail"></c:image>
    				<c:column>
    					<c:text class="text-size-section-title" data-source="$(book_info.book_name)"></c:text>
    					<c:text data-source="$(book_info.book_recommend.name)"/>
    				</c:column>
    			</c:row>
    			<c:text data-source="$(review_content)" max-line="4"></c:text>
    			<c:row class="align-right">
    				<c:font-icon>heart</c:font-icon>
    				<c:text>赞</c:text>
    				<c:text data-source="$(_by_key_praiseCount)"></c:text>
    			</c:row>
    		</c:column>
    	</c:column>
    	<c:column name="nothing_to_show">
    		<c:text>您什么也没评论过</c:text>
    	</c:column>
    </c:page>
          
    
  
    
     

     
     <c:page name="customer-account-history" title="余额明细">
     	<c:data-source user="$(customer)"/>
     	<c:text class="text-size-section-title">余额明细</c:text>
     	<c:column>
     		<c:row class="card" data-source="$(user.customer_account_transaction)">
     			<c:column>
     				<c:text class="text-size-section-title" data-source="$(summary)"></c:text>
     				<c:date class="text-size-main text-color-note" data-source="$(change_datetime)" format="yyyy-MM-dd HH:mm:ss"></c:date>
     				<c:text class="text-size-main text-color-note" data-source="订单号:$(related_main_order.id)"></c:text>
     			</c:column>
     			<c:money name="ammount" data-source="$(amount)">金额</c:money>
     		</c:row>
     	</c:column>
     </c:page>

     <c:page name="customer-order-list" title="我的订单">
     	<c:data-source user="$(customer)"/>
     	<c:tabs name="order-type" link-to-url="/wxaService/customerOrderList/" active-tab="$(user._by_key_activeTab)"
     			class-selected="text-color-marked-main" class-unselected="text-color-main">
     		<c:option value="needPay" display-text="待付款"/>
     		<c:option value="closed" display-text="已完成"/>
     		<c:option value="all" display-text="全部"/>
     	</c:tabs>
     	<c:column>
     		<c:column class="card" data-source="$(user.main_order)" link-to-url="/wxaService/customerOrderDetail/$(id)/">
     			<c:row>
	     			<c:text>订单编号：</c:text>
	     			<c:text data-source="$(id)">订单编号</c:text>
     			</c:row>
     			<c:row class="card" name="line-item" data-source="$(line_item)">
     				<c:image class="image-size-thumbnail" src-url="$(cover_image)"></c:image>
     				<c:column>
     					<c:text class="text-size-main text-color-marked-main" data-source="$(name)"></c:text>
     					<c:text class="text-size-note text-color-main" data-source="$(summary)"></c:text>
     					<c:text></c:text>
     					<c:row>
     						<c:money name="item-pay-value" class="text-size-main text-color-marked-main" data-source="$(item_discount)"></c:money>
     						<c:money name="item-price" class="text-size-note text-color-note" data-source="$(raw_price)"></c:money>
     					</c:row>
     				</c:column>
     			</c:row>
     			<c:row name="pay-action" class="align-both-ends">
     				<c:money data-source="$(actual_amount)" format="应付：￥#,##0.##元" class="text-color-marked-main"></c:money>
     				<c:button name="pay-order" link-to-url="/wxaService/customerStartPayOrder/$(id)/">付款</c:button>
     				<c:button name="authorize"  type="getPhoneNumber" link-to-url="/wxaService/customerStartPayOrder/$(id)/" call-back-url="/wxaService/updateUserPhoneNumber/">付款</c:button>
     			</c:row>
     		</c:column>
     	</c:column>
     </c:page>
 
	<c:page name="customer-order-detail" title="订单详情">
		<c:data-source borrowRecord="$(borrowing_history)"/>
		<c:data-source book="$(book_copy)"/>
		<c:data-source memberService="$(member_service_bundle_sku)" />
		<c:data-source user="$(customer)"/>
		<c:data-source order="$(main_order)"/>
		<c:data-source payment="$(main_order_payment)"/>
		
		<c:text class="text-size-section-title text-color-marked-main">商品信息</c:text>
		<c:row name="line-item-block" class="card" data-source="$(order.line_item)">
			<c:image class="image-size-thumbnail" src-url="$(cover_image)">商品图片</c:image>
			<c:column>
				<c:text class="text-color-marked-main" data-source="$(name)"></c:text>
				<c:text class="text-color-main" data-source="$(summary)"></c:text>
				<c:row>
					<c:money name="item-pay-value" class="text-size-main text-color-marked-main" data-source="$(item_discount)"></c:money>
					<c:money name="item-price" class="text-size-note text-color-note" data-source="$(raw_price)"></c:money>
				</c:row>
			</c:column>
		</c:row>
		<c:row name="borrow-record-block">
			<c:column class="align-both-ends">
				<c:text>借书门店</c:text>
				<c:text data-source="$(borrowRecord.lending_store.store_name)"></c:text>
			</c:column>
			<c:column class="align-both-ends">
				<c:text>借书日期</c:text>
				<c:date data-source="$(borrowRecord.lending_datetime)" format="yyyy-MM-dd"></c:date>
			</c:column>
			<c:column class="align-both-ends">
				<c:text>免费阅读至</c:text>
				<c:date data-source="$(borrowRecord.free_lending_expired_datetime)" format="yyyy-MM-dd"></c:date>
			</c:column>
			<c:column class="align-both-ends">
				<c:text>还书门店</c:text>
				<c:text data-source="$(borrowRecord.return_store.store_name)"></c:text>
			</c:column>
			<c:column class="align-both-ends">
				<c:text>还书日期</c:text>
				<c:date data-source="$(borrowRecord.return_datetime)" format="yyyy-MM-dd"></c:date>
			</c:column>
			<c:column class="align-both-ends">
				<c:text>逾期天数</c:text>
				<c:text data-source="$(borrowRecord._by_key_expiredDays)"></c:text>
			</c:column>
			<c:column class="align-both-ends">
				<c:text>逾期费用</c:text>
				<c:money data-source="$(borrowRecord._by_key_expiredFee)" format="#,##0.##元"></c:money>
			</c:column>
		</c:row>
		
		<c:row name="member-service-block">
			<c:column class="align-both-ends">
				<c:text>会员生效日期:</c:text>
				<c:date data-source="$(user.member_service_start_date)" format="yyyy-MM-dd"></c:date>
			</c:column>
			<c:column class="align-both-ends">
				<c:text>会员到期日期:</c:text>
				<c:date data-source="$(user.member_service_expire_date)" format="yyyy-MM-dd"></c:date>
			</c:column>
		</c:row>
		
		<c:text class="text-size-section-title text-color-marked-main">订单信息</c:text>
		<c:column name="order-block">
			<c:row class="align-both-ends">
				<c:text>订单编号:</c:text>
				<c:text data-source="$(order.id)"></c:text>
			</c:row>
			<c:row class="align-both-ends">
				<c:text>下单时间:</c:text>
				<c:date data-source="$(order.create_time)" format="yyyy-MM-dd HH:mm:ss"></c:date>
			</c:row>
			<c:row class="align-both-ends">
				<c:text>商品金额</c:text>
				<c:money data-source="$(order.original_amount)" format="#,##0.##元"></c:money>
			</c:row>
			<c:row class="align-both-ends">
				<c:text>实付金额</c:text>
				<c:money class="text-color-marked-main" data-source="$(order.actual_amount)" format="#,##0.##元"></c:money>
			</c:row>
		</c:column>
		
		<c:column name="payment-block">
			<c:text class="text-size-section-title text-color-marked-main">支付信息</c:text>
			<c:row class="align-both-ends">
				<c:text>支付方式:</c:text>
				<c:text data-source="$(payment.payment_method)"></c:text>
			</c:row>
			<c:row class="align-both-ends">
				<c:text>支付时间:</c:text>
				<c:date data-source="$(payment.last_update_time)" format="yyyy-MM-dd HH:mm:ss"></c:date>
			</c:row>
			<c:row class="align-both-ends">
				<c:text>支付金额</c:text>
				<c:money class="text-color-marked-main" data-source="$(payment.paid_amount)" format="#,##0.##元"></c:money>
			</c:row>
		</c:column>
		
		<c:row class="align-center" name="payment-action">
			<c:form name="pay_form">
				<c:action link-to-url="/wxaService/customerStartPayOrder/$(order.id)/">去支付</c:action>
			</c:form>
			<c:form name="authorize_form">
				<c:button type="getUserPhoneNumber" 
					link-to-url="/wxaService/customerStartPayOrder/$(order.id)/"
					call-back-url="/wxaService/updateUserPhoneNumber/">
					去支付
				</c:button>
			</c:form>
		</c:row>
	</c:page>
	
	<c:page name="fresh-new-customer" title="我的">
		<c:column>
			<c:text>绑定手机号可以提供更多更好的服务</c:text>
			<c:button level="info" type="getPhoneNumber" link-to-url="/wxaService/bindCustomerMobile/">绑定手机号码</c:button>
		</c:column>
	</c:page>
	
	
	<c:page name="update-customer-info" title="我的">
		<c:column>
			<c:text>授权系统使用您的昵称和头像</c:text>
			<c:button level="info" type="getUserInfo" link-to-url="/wxaService/setCustomerInfo/">授权</c:button>
		</c:column>
	</c:page>
	
	
	
	<c:page name="customer-campaign-history" title="我的活动">
		<c:data-source user="$(customer)"/>
		
		<c:column>
			<c:row name="record-block" class="card register_history_container" data-source="$(user.campaign_register_history)" link-to-url="/wxaService/campaignDetail/$(campaign.id)">
				<c:column>
					<c:image src-url="$(campaign.campaign_image)"></c:image>
					<c:text class="text-color-marked-note text-size-main campaign-status" data-source="$(campaign.campaign_status)">状态</c:text>
				</c:column>
				<c:column class="roomy_block">
					<c:text data-source="$(campaign.campaign_name)" class="text-size-section-title"></c:text>
					<c:date data-source="$(campaign.campaign_start_time)" format="活动时间：MM-dd HH:mm"></c:date>
					<c:text data-source="活动地点：$(campaign.campaign_hold_address)"></c:text>
					<c:text class="text-color-note" data-source="$(_by_key_markLine)"></c:text>
				</c:column>
				<c:text class="register_history_mark" data-source="$(_by_key_mark)"/>
			</c:row>
		</c:column>
	</c:page>
	
	<c:page name="customer-member-service" title="会员服务">
		<c:data-source user="$(customer)"/>
		<c:data-source platform="$(book_sharing_platform)"/>
		
		<c:column class="align-center">
			<c:image class="image-size-icon" src-url="$(user.logo_image)"></c:image>
			<c:text class="text-size-section-title text-color-marked-main" data-source="$(user.nick_name)"></c:text> 
			<c:text class="text-size-main text-color-main" data-source="$(user.member_service.product_name)"></c:text>
		</c:column>
		
		<c:row class="align-center">
			<c:text class="text-size-section-title text-color-marked-main">会员服务</c:text>
		</c:row>
		
		<c:row class="card small-bottom-space" data-source="$(platform.member_service_product)">
			<c:image class="image-size-thumbnail" src-url="$(product_cover_image)"></c:image>
			<c:column class="wide_block">
				<c:text class="text-size-section-title text-color-marked-main" data-source="$(product_name)"></c:text>
				<c:rich-text data-source="$(product_description)"></c:rich-text>
			</c:column>
			<c:column class="align-center">
				<c:button link-to-url="/wxaService/selectMemberService/$(id)/" data-source="$(_by_key_actionName)"></c:button>
			</c:column>
		</c:row>
	</c:page>
	
	<c:page name="select-member-service" title="选择会员">
		<c:data-source product="$(member_service_product)"/>
		<c:data-source info="$(member_rights_display)"/>
		
		<c:row class="align-center">
			<c:text class="text-size-section-title text-color-marked-main" data-source="$(product.product_name)"></c:text>
		</c:row>
		<c:row>
			<c:rich-text data-source="$(product.product_description)"></c:rich-text>
		</c:row>
		<c:row name="sku-list" class="member-service-sku-list align-left">
			<c:column name="sku-card" class="align-center member-service-sku-item card small-space" 
					data-source="$(product.member_service_bundle_sku)" target-id="$(id)">
				<c:text class="text-size-main" data-source="$(service_period_months)个月"></c:text>
				<c:text class="text-size-note" data-source="$(member_service_name)"></c:text>
				<c:money class="text-color-marked-main" data-source="$(sale_price)"></c:money>
				<c:money class="text-size-note text-color-note" data-source="$(list_price)"></c:money>
			</c:column>
		</c:row>
		<c:form>
			<c:field name="sku" type="radio" visible="false"/>
			<c:action link-to-url="/wxaService/placeMemberServiceOrder/">支付</c:action>
		</c:form>
		<c:row name="item-list" class="member-rights-item-list align-left">
			<c:column class="align-center member-rights-item" data-source="$(info.member_rights_display_item)">
				<c:image src-url="$(image)"></c:image>
				<c:text data-source="$(summary)"></c:text>
			</c:column>
		</c:row>
	</c:page>
	
	<c:page name="customer-member-rights" title="我的权益">
		<c:data-source info="$(member_rights_display)"/>
		<c:column>
			<c:row class="align-center">
				<c:text class="text-size-article-title" data-source="$(info.name)"></c:text>
			</c:row>
			<c:rich-text class="text-size-main" data-source="$(info.summary)"></c:rich-text>
			<c:row class="align-left">
				<c:text class="text-size-section-title" data-source="$(info.name)权益"></c:text>
			</c:row>
			
			<c:row name="item-list" class="member-rights-item-list align-left">
				<c:column class="align-center member-rights-item" data-source="$(info.member_rights_display_item)">
					<c:image src-url="$(image)"></c:image>
					<c:text data-source="$(summary)"></c:text>
				</c:column>
			</c:row>
		</c:column>
	</c:page>
	
	<c:page name="customer-footprint" title="历程">
		<c:data-source user="$(customer)"/>
		<c:column>
			<c:column class="card normal-bottom-space" name="footprint" data-source="$(user.customer_footprint)">
				<c:row>
					<c:font-icon level="primary">clock-o</c:font-icon>
					<c:date data-source="$(create_time)" format="fuzz_after_1_hour"></c:date>
				</c:row>
				<c:text data-source="$(title)"></c:text>
				<c:text data-source="$(description)" max-line="4"></c:text>
				<c:row name="related-item" class="card small-bottom-space">
					<c:image class="image-size-thumbnail" src-url="$(item_image)"></c:image>
					<c:column >
						<c:text class="text-size-section-title" data-source="$(item_title)"></c:text>
						<c:text class="text-size-main" data-source="$(item_description)"></c:text>
					</c:column>
				</c:row>
			</c:column>
		</c:column>
	</c:page>
	
	<c:page name="customer_message_list" title="我的消息">
    	<c:data-source user="$(customer)"/>
    	
    	<c:row class="align-center">
    		<c:text class="text-size-main text-color-main">我的消息</c:text>
    	</c:row>
    	<c:column>
    		<c:column class="card" name="message-block" data-source="$(user.private_message)">
    			<c:row class="align-both-ends">
    				<c:text class="text-size-section-title text-color-marked-main" data-source="$(name)"></c:text>
    				<c:date class="text-size-note text-color-note" data-source="$(delivery_time)" format="MM-dd HH:mm"></c:date>
    			</c:row>
    			<c:text max-line="4" data-source="$(content)"></c:text>
    		</c:column>
    	</c:column>
    </c:page>
    
    <c:page name="campaign-list" title="全部活动">
		<c:data-source store="$(store)" />
		<c:column>
			<c:row class="card"	name="campaign-info-block" link-to-url="/wxaService/campaignDetail/$(id)/" data-source="$(store.campaign)">
				<c:image class="image-size-thumbnail" src-url="$(campaign_image)"></c:image>
				<c:column name="campaign-desc-block">
					<c:text class="text-size-main text-color-marked-main common-text-piece" data-source="$(campaign_name)">名称</c:text>
					<c:date name="hold-time" class="text-size-main common-text-piece" data-source="$(campaign_start_time)" format="MM-dd HH:mm">举办时间</c:date>
					<c:text class="text-size-main common-text-piece" data-source="$(campaign_hold_address)">举办地点</c:text>
				</c:column>
				<c:row class="align-right">
					<c:text name="campaign-application-state" class="text-size-main btn btn-primary" data-source="$(_by_key_memberCount)">状态</c:text>
				</c:row>
			</c:row>
		</c:column>
	</c:page>
	
    <c:page name="campaign-detail" title="活动详情">
    	<c:data-source campaign="$(campaign)"/>
    	<c:data-source customer="$(customer)"/>
    	<c:column class="card">
	    	<c:row class="align-both-ends">
	    		<c:text	class="text-size-main text-color-marked-main text-size-article-title" data-source="$(campaign.campaign_name)">名称</c:text>
	    		<c:text class="text-size-main common-text-piece" data-source="$(campaign.campaign_status)">状态</c:text>
	    		<c:row class="no-flex-weight" stat-in-page="true">
			    	<c:row stat-in-page="true" class="no-flex-weight" link-to-url="/wxaService/praiseCampaign/$(campaign.id)/$(campaign._by_key_alreadyPraised)/">
				    	<c:font-icon name="campaign-like" class="text-size-main" >heart-o</c:font-icon>
				    	<c:text class="text-size-note common-text-piece" data-source="$(campaign._by_key_praiseCount)"></c:text>
			    	</c:row>
			    	<!-- 
			    	<c:font-icon class="text-size-main">comment-o</c:font-icon>
			    	<c:text class="text-size-note common-text-piece" data-source="$(campaign._by_key_reviewCount)"></c:text>
			    	 -->
			    	<c:button type="share"
						sharing-title="$(campaign.campaign_name)"
						image-url="$(campaign.campaign_image)"
						link-to-url="/wxaService/campaignDetail/$(campaign.id)/">
						分享
					</c:button>
			    </c:row>
	    	</c:row>
	    	<c:row>
	    		<c:text>活动时间：</c:text>
	    		<c:date data-source="$(campaign.campaign_start_time)" format="yyyy-MM-dd HH:mm"></c:date>
	    	</c:row>
	    	<c:row>
	    		<c:text>结束时间：</c:text>
	    		<c:date data-source="$(campaign.campaign_finish_time)" format="yyyy-MM-dd HH:mm"></c:date>
	    	</c:row>
	    	<c:row name="campaign-images" class="campaign-images">
	    		<c:image class="image-size-list-thumbnail" data-source="$(campaign.campaign_image)"></c:image>
	    	</c:row>
    	</c:column>
    	
		<c:row class="card normal-top-space" >
			<c:font-icon class="text-color-marked-error">map-marker</c:font-icon>
			<c:text class="text-size-main common-text-piece"	data-source="$(campaign.campaign_hold_address)">地点</c:text>
		</c:row>
		
		<c:column class="card align-right normal-top-space" >
			<c:text name="member-count" class="text-size-main common-text-piece" data-source="已报名$(campaign._by_key_memberCount) / 限$(campaign.available_register_quantity)人">人数</c:text>
			<c:row class="align-both-ends">
				<c:row>
				</c:row>
				<c:font-icon>angle-double-right</c:font-icon>
			</c:row>
		</c:column>
		
		<c:column class="card align-right normal-top-space" >
			<c:text class="text-size-section-title">活动详情</c:text>
			<c:rich-text class="text-size-main" data-source="$(campaign.campaign_content)" />
		</c:column>
		
	    <c:column name="review-list" class="card normal-top-space">
		    <c:text class="text-size-section-title">评论</c:text>
		</c:column>
	    <c:column class="background-main small-bottom-space" data-source="$(campaign.campaign_review)">
    		<c:row class="align-both-ends">
    			<c:row>
    				<c:image class="image-size-icon" src-url="$(reviewer.logo_image)"/>
    				<c:column>
    					<c:text class="text-size-main text-color-marked-main" data-source="$(reviewer.nick_name)"></c:text>
    					<c:date name="review-post-time" class="text-size-note" data-source="$(last_update_time)" format="fuzz_after_1_hour"/>
    				</c:column>
    			</c:row>
    			<c:row>
	    			<c:row class="align-right" stat-in-page="true" link-to-url="/wxaService/praiseCampaignReview/campaign/$(campaign.id)/$(id)/$(_by_key_thumbsUp)/">
	    				<c:font-icon name="my-comment-icon" class="text-size-main">comment-o</c:font-icon>
	    				<c:text class="text-size-note common-text-piece" data-source="$(_by_key_praiseCount)"/>
	    			</c:row>
    				<c:ugc-control title-block="屏蔽" title-report="举报" link-to-url="/wxaService/ugcContentControl/$(id)/campaign/">...</c:ugc-control>
    			</c:row>
    		</c:row>
    		<c:text max-line="4" class="text-size-main" data-source="$(review_content)"/>
    	</c:column>
	    	
	    	<!-- 
	    	<c:text class="text-size-main" link-to-url="/wxaService/campaignreviews/$(campaign.id)/">
	    		查看更多...
	    	</c:text>
	    	 -->
		<c:form>
			<c:field type="hidden" name="campaign_id" label="" data-source="$(campaign.id)"/>
			<c:field type="longtext" name="review_content" label="发表评论" max-value="1024"/>
			<c:row>
				<c:button name="bottom-line" class="btn btn-primary"
					data-source="$(campaign._by_key_scene)"
					link-to-url="/wxaService/campaignApplyResult/$(campaign.id)/$(campaign._by_key_scene_code)/">报名活动</c:button>
				<c:action name="submitCampaignReviewForm" level="primary" link-to-url="/wxaService/postCampaignReview/">提交评论</c:action>
			</c:row>
		</c:form>
    </c:page>
    
    <c:page name="start_pay_order" title="在线支付">
    	<c:data-source order="$(main_order)"/>
    	<c:data-source payment="$(main_order_payment)"/>
    	
    	<c:text class="text-size-section-title">商品信息</c:text>
    	<c:column >
	    	<c:row name="line-item-block" data-source="$(order.line_item)" link-to-url="/wxaService/viewObject/$(sku_type)/$(sku_id)/">
	    		<c:image class="image-size-thumbnail" src-url="$(cover_image)"></c:image>
	    		<c:column>
	    			<c:text class="text-size-section-title text-color-marked-main" data-source="$(name)"></c:text>
	    			<c:text class="text-size-main text-color-main" data-source="$(summary)"></c:text>
	    			<c:row>
	    				<c:money class="text-color-marked-main" data-source="$(raw_price)" ></c:money>
	    				<c:money class="text-color-note" data-source="$(item_discount)" ></c:money>
	    			</c:row>
	    		</c:column>
	    	</c:row>
    	</c:column>
    	<c:column>
	    	<c:row class="align-both-ends">
	    		<c:text>商品金额</c:text>
	    		<c:money class="text-color-note" data-source="$(order.original_amount)"></c:money>
	    	</c:row>
	    	<c:row class="align-both-ends">
	    		<c:text>实付金额</c:text>
	    		<c:money class="text-color-marked-main" data-source="$(order.actual_amount)"></c:money>
	    	</c:row>
    	</c:column>
    	<c:form>
    		<c:field type="hidden" name="order-id" label="订单号" data-source="$(order.id)"></c:field>
    		<c:field type="select" name="payment-method" label="请选择支付方式">
    			<c:option value="wechat" display-text="微信支付" checked="true"></c:option>
    			<c:option value="wallet" display-text="余额支付"></c:option>
    		</c:field>
    		<c:online-payment name="online-payment" link-to-url="/wxaService/doOnlinePayment/$(order.id)/">确定支付</c:online-payment>
    	</c:form>
    </c:page>
    
    
    <c:page name="book-copy-detail" title="书籍详情">
        <c:data-source bookData="$(book)"/>
        <c:data-source bookCopyData="$(book_copy)"/>
        <c:column>
            <c:row name="book-info-block" class="card">
            	<c:column class="align-center">
                	<c:image class="image-size-thumbnail" src-url="$(bookData.book_cover)"/>
            	</c:column>
                <c:column class="roomy_block">
                    <c:text class="text-size-section-title text-color-marked-main" data-source="$(bookData.book_name)">名称</c:text>
                    <c:text class="text-size-note" data-source="作者:$(bookData.book_author)">作者</c:text>
                    <c:text class="text-size-note" data-source="出版社:$(bookData.book_publisher)">出版社</c:text>
                    <c:date class="text-size-note" data-source="$(bookData.book_pubdate)" format="出版时间:yyyy-MM">出版时间</c:date>
                    <c:money class="text-size-note" data-source="$(bookData.list_price)" format="定价：￥#,##0.00">定价</c:money>
                    <c:money class="text-size-note text-color-marked-main" data-source="$(bookCopyData.evaluation_price)" format="评估价：￥#,##0.00">定价</c:money>
                    <c:text class="text-size-note" data-source="ISBN: $(bookData.book_isbn13)">ISBN</c:text>
                    <c:text name="isbn10" class="text-size-note" data-source="ISBN: $(bookData.book_isbn10)">ISBN</c:text>
                </c:column>
            </c:row>
            <c:row class="flat-bar background-main">
                <c:font-icon class="text-size-note normal-left-space">book</c:font-icon>
                <c:text class="text-size-section-title text-color-marked-main">本书简介</c:text>
            </c:row>
            <c:column class="card">
	            <c:text class="text-size-main" data-source="$(bookData.book_summary)" max-line="8"></c:text>
            </c:column>
            <c:row class="card">
                <c:font-icon class="text-size-note normal-left-space">bookmark</c:font-icon>
                <c:text class="text-size-note" data-source="$(bookData.book_recommend.name)">推荐</c:text>
            </c:row>
                
			<c:column name="recent-borrowers" class="card">
				<c:row>
            		<c:font-icon class="text-size-note normal-left-space">group</c:font-icon>
            		<c:text class="text-size-note">最近借阅</c:text>
				</c:row>
				<c:row class="align-both-ends">
					<c:row>
		            	<c:container class="no-flex-weight" data-source="$(bookData.borrowing_history)"> 
		            		<c:image class="image-size-note" src-url="$(borrower.logo_image)"/>
		            	</c:container>
					</c:row>
	            	<c:text link-to-url="/wxaService/bookBorrowerDetail/$(bookData.id)/">...</c:text>
				</c:row>
            </c:column>
            <c:row class="card normal-top-space">
                <c:font-icon class="text-size-note normal-left-space">comment-o</c:font-icon>
                <c:text class="text-size-section-title text-color-marked-main">书评</c:text>
            </c:row>
            
            <c:column data-source="$(bookData.book_review)" class="card small-bottom-space">
            	<c:row class="align-both-ends">
            		<c:row class="no-flex-weight">
            			<c:image class="image-size-note" src-url="$(reviewer.logo_image)"/>
            			<c:text class="text-size-main text-color-marked-main" data-source="$(reviewer.nick_name)">名字</c:text>
            		</c:row>
					<c:ugc-control
						class="text-size-main text-color-main"
						link-to-url="/wxaService/ugcContentControl/$(id)/book/"
						title-block="屏蔽" title-report="举报">
						...
					</c:ugc-control>
            	</c:row>
            	<c:text max-line="6" class="text-size-main small-space" data-source="$(review_content)"/>
            	<c:row class="align-both-ends">
	                <c:row class="no-flex-weight">
	                    <c:font-icon class="text-size-note">clock-o</c:font-icon>
	                    <c:date name="post-time" class="text-size-note" data-source="$(review_publish_datetime)"
	                            format="1_hour_or_earlier">
	                        时间
	                    </c:date>
	                </c:row>
	                <c:row class="no-flex-weight"  stat-in-page="true" link-to-url="/wxaService/praiseBookReview/bookcopy/$(bookCopyData.id)/$(id)/$(_by_key_thumbUp)/">
	                    <c:font-icon name="thumbUp" class="text-size-note">heart-o</c:font-icon>
	                    <c:text class="small-left-space small-right-space">赞</c:text>
	                    <c:text name="praise-count" class="text-size-note"
	                            data-source="$(_by_key_praiseCount)">100
	                    </c:text>
	                </c:row>
	            </c:row>
            </c:column>
            
            <c:button link-to-url="/wxaService/bookDetailPage/$(bookData.id)/">更多图书信息...</c:button>
            <c:row class="align-center">
            	<c:button name="borrow" link-to-url="/wxaService/selectStore/$(bookCopyData.location_store.id)/">回到首页</c:button>
            	<c:button name="borrow" link-to-url="/wxaService/customerBorrowBook/$(bookCopyData.id)/">借阅</c:button>
            </c:row>
        </c:column>
    </c:page>
    
    <c:page name="book-detail" title="书籍详情">
        <c:data-source bookData="$(book)"/>
        <c:data-source platform="$(book_sharing_platform)"/>
        <c:data-source borrowRecord="$(borrowing_history)"/>
        <c:column>
            <c:row name="book-info-block" class="card">
            	<c:column class="align-center">
                	<c:image class="image-size-thumbnail" src-url="$(bookData.book_cover)"/>
            	</c:column>
                <c:column class="roomy_block">
                    <c:text class="text-size-section-title text-color-marked-main" data-source="$(bookData.book_name)">名称</c:text>
                    <c:text class="text-size-note" data-source="作者:$(bookData.book_author)">作者</c:text>
                    <c:text class="text-size-note" data-source="出版社:$(bookData.book_publisher)">出版社</c:text>
                    <c:date class="text-size-note" data-source="$(bookData.book_pubdate)" format="出版时间:yyyy-MM">出版时间</c:date>
                    <c:money class="text-size-note" data-source="$(bookData.list_price)" format="定价：￥#,##0.00">定价</c:money>
                    <c:text class="text-size-note" data-source="ISBN: $(bookData.book_isbn13)">ISBN</c:text>
                    <c:text name="isbn10" class="text-size-note" data-source="ISBN: $(bookData.book_isbn10)">ISBN</c:text>
                </c:column>
            </c:row>
            <c:row class="flat-bar background-main">
                <c:font-icon class="text-size-note normal-left-space">book</c:font-icon>
                <c:text class="text-size-section-title text-color-marked-main">本书简介</c:text>
            </c:row>
            <c:column class="card">
	            <c:text class="text-size-main" data-source="$(bookData.book_summary)" max-line="8"></c:text>
            </c:column>
            <c:row class="card">
                <c:font-icon class="text-size-note normal-left-space">bookmark</c:font-icon>
                <c:text class="text-size-note" data-source="$(bookData.book_recommend.name)">推荐</c:text>
            </c:row>
                
			<c:column name="recent-borrowers" class="card">
				<c:row>
            		<c:font-icon class="text-size-note normal-left-space">group</c:font-icon>
            		<c:text class="text-size-note">最近借阅</c:text>
				</c:row>
				<c:row class="align-both-ends">
					<c:row>
		            	<c:container class="no-flex-weight" data-source="$(bookData.borrowing_history)"> 
		            		<c:image class="image-size-note" src-url="$(borrower.logo_image)"/>
		            	</c:container>
					</c:row>
	            	<c:text link-to-url="/wxaService/bookDetail/$(bookData.id)/">...</c:text>
				</c:row>
            </c:column>
            <!-- 馆藏列表 -->
            <c:row name="collection-info-title" class="card normal-top-space">
                <c:font-icon class="text-size-note normal-left-space">map-marker</c:font-icon>
                <c:text class="text-size-section-title text-color-marked-main">哪里可以借到？</c:text>
            </c:row>
            <c:column name="collection-info-list" class="card small-bottom-space">
            	<c:row class="align-both-ends" data-source="$(platform.store)" link-to-url="/wxaService/selectStore/$(id)/">
            		<c:text data-source="$(store_name)"></c:text>
            		<c:text data-source="$(_by_key_count)本"></c:text>
            	</c:row>
            </c:column>
            <!-- 书评列表 -->
            <c:row class="card normal-top-space">
                <c:font-icon class="text-size-note normal-left-space">comment-o</c:font-icon>
                <c:text class="text-size-section-title text-color-marked-main">书评</c:text>
            </c:row>
            <c:column data-source="$(bookData.book_review)" class="card small-bottom-space">
            	<c:row class="align-both-ends">
            		<c:row class="no-flex-weight">
            			<c:image class="image-size-note" src-url="$(reviewer.logo_image)"/>
            			<c:text class="text-size-main text-color-marked-main" data-source="$(reviewer.nick_name)">名字</c:text>
            		</c:row>
					<c:ugc-control
						class="text-size-main text-color-main"
						link-to-url="/wxaService/ugcContentControl/$(id)/book/"
						title-block="屏蔽" title-report="举报">
						...
					</c:ugc-control>
            	</c:row>
            	<c:text max-line="8" class="text-size-main small-space" data-source="$(review_content)"/>
            	<c:container class="align-both-ends">
	                <c:row class="no-flex-weight">
	                    <c:font-icon class="text-size-note">clock-o</c:font-icon>
	                    <c:date name="post-time" class="text-size-note" data-source="$(review_publish_datetime)"
	                            format="1_hour_or_earlier">
	                        时间
	                    </c:date>
	                </c:row>
	                <c:row class="no-flex-weight"  stat-in-page="true" link-to-url="/wxaService/praiseBookReview/book/$(bookData.id)/$(id)/$(_by_key_thumbUp)/">
	                    <c:font-icon name="thumbUp" class="text-size-note">heart-o</c:font-icon>
	                    <c:text class="small-left-space small-right-space">赞</c:text>
	                    <c:text name="praise-count" class="text-size-note"
	                            data-source="$(_by_key_praiseCount)">100
	                    </c:text>
	                </c:row>
	            </c:container>
            </c:column>
            
            <c:button name="review" link-to-url="/wxaService/postBookReviewPage/$(bookData.id)/$(borrowRecord.book_copy.id)/">发表评论</c:button>
        </c:column>
    </c:page>
</root>
